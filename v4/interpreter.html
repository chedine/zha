<html>
<title>Blank</title>

<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ramda/0.25.0/ramda.js"></script>
   <!-- <script src="core.js"></script>-->
    <script src="mori.js"></script>
    <script src="types.js"></script>
	<script src="rt.js"></script>
	<script src="lang.js"></script>
    <script>
    </script>
    <!--<h3>A rough interpreter</h3>
        <textarea cols="80" rows="5" id="program"></textarea>
        <div style="margin-top:15px; margin-bottom:15px;">
            <input type="button" value="parse" onclick="parse()" />
        </div>
        <textarea cols="80" rows="3" id="programResults"></textarea>-->
    <script>
	  
	  function print(val){
		if(_Zha$.isSeq(val)){
			return mori.toJs(val.value);
		}
		else{
			return val.value;
		}
	  }
	  function printComposite(val){
	  
	  }
      function runTest(src){
          console.log(src, print(Zha.eval(src)[0]));
      }

	
      runTest("4");
      runTest(":keyword");
      runTest("x = 5")
      runTest("* 5 4")
      runTest("* x (+ x 4)");
      runTest("* y z where z = 2 , y = 1");
      runTest("if true true false");
      runTest("if (< 5 6) true false");
      runTest("if (> 5 6) true false");
      runTest("add x y = + x y");
	  runTest("mylist = list 1 2 3");
      runTest("add 1 2");
      runTest("add x y where x = 1 , y = 2");
      runTest('greeter n = + "Hi " n');
      runTest('loop (list "dinesh" "smriti") greeter');
	  runTest("k = # 5"); //anonymous function
	  runTest("+ (call k) 5");
	  runTest("k1 = # (x) (+ x x)"); //anonymous function
	  runTest("k1 5");
	  runTest("add1 = curry add");
      runTest("(add1 3) 5"); //Curried function
	  runTest("inc = add1 1");
      runTest('logger = # (log "done!!") ');
    //  runTest('timer logger 5000');
    //call list is a hack to get back an empty list
    runTest("e = call list");
	  runTest('map transform lst = last (loop lst t1 empty) where t1 item state = conj state (transform item), empty = e ');
																	
      function failures(){
           runTest("(add 1 3)"); // returns a list of symbols instead of evaluating it.
       }
    </script>
</body>

</html>`